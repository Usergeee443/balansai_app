{% extends "base.html" %}

{% block title %}Balans AI - Asosiy{% endblock %}

{% block nav_home_active %}active{% endblock %}

{% block content %}
<!-- Header -->
<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px 16px 24px; color: white;">
    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
        <div>
            <h1 style="font-size: 24px; font-weight: 700; margin: 0 0 4px;">Balans AI</h1>
            <p style="font-size: 14px; opacity: 0.9; margin: 0;" id="userName">Yuklanmoqda...</p>
        </div>
        <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: 600;" id="userInitial">U</div>
    </div>
</div>

<!-- Balance and Currency List -->
<div style="padding: 16px; margin-top: -20px;">
    <div class="card" style="padding: 0;">
        <!-- Umumiy balans - birinchi item -->
        <div class="currency-item-main" onclick="showCurrencyDetails()" style="padding: 16px; border-bottom: 1px solid #f0f0f0; cursor: pointer;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: white;">101</div>
                    <h2 style="font-size: 20px; font-weight: 600; color: #333; margin: 0;" id="balanceAmount">0 so'm</h2>
                </div>
                <svg style="width: 20px; height: 20px; color: #1E88E5;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </div>
        </div>
        
        <!-- Currency List -->
        <div id="currencyList">
            <!-- Valyutalar bu yerda yuklanadi -->
        </div>
    </div>
</div>

<!-- So'nggi Tranzaksiyalar -->
<div style="padding: 0 16px 16px;">
    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
        <h3 style="font-size: 18px; font-weight: 700; margin: 0;">So'nggi tranzaksiyalar</h3>
        <svg style="width: 20px; height: 20px; color: #999;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
    </div>
    <div style="display: flex; gap: 12px;" id="recentTransactions">
        <!-- So'nggi tranzaksiyalar bu yerda yuklanadi -->
    </div>
</div>

<!-- Statistika -->
<div style="padding: 0 16px 16px;">
    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
        <h3 style="font-size: 18px; font-weight: 700; margin: 0;">Statistika</h3>
        <svg style="width: 20px; height: 20px; color: #999;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
    </div>
    <div class="card" style="padding: 16px;">
        <canvas id="statisticsChart" style="max-height: 200px;"></canvas>
    </div>
</div>
{% endblock %}

